(()=>{function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}var t=window.electron.ipcRenderer,n=document.getElementById("folderList"),o=document.getElementById("logOutput"),r=document.getElementById("clear-logs-button"),c=document.getElementById("pathInput"),l=document.getElementById("folderSelection"),i=document.getElementById("logView"),a=document.getElementById("start-watch-button"),d=document.getElementById("add-folder-button"),s=document.getElementById("showLogs"),u=document.getElementById("watchStatusButton"),f=document.getElementById("clear-paths-button"),m=document.getElementById("watchIcon"),y=!1,h=!0;function g(){y?(m.classList.remove("fa-eye-slash"),m.classList.add("fa-eye"),u.classList.add("text-green-500"),u.classList.remove("text-gray-500")):(m.classList.remove("fa-eye"),m.classList.add("fa-eye-slash"),u.classList.add("text-gray-500"),u.classList.remove("text-green-500"))}function p(o){var c,l=function(t){if(Array.isArray(t))return e(t)}(c=new Set(o))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var o={}.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();n.innerHTML="",l.forEach((function(e){var o=document.createElement("li");o.style.display="flex",o.style.alignItems="center",o.style.justifyContent="space-between",o.textContent=e;var c=document.createElement("i");c.className="fa-solid fa-trash-can ml-4 text-gray-800 p-2 hover:text-red-500 cursor-pointer stop-button",c.style.marginLeft="auto",c.addEventListener("click",(function(){n.removeChild(o),t.send("stop-watching-folder",e),r.click(),n.children.length>0||(y=!1)})),o.appendChild(c),n.appendChild(o)}))}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=document.createElement("div");r.textContent="[".concat(e,"] ").concat(t),n&&(r.style.color="red"),o.appendChild(r),o.scrollTop=o.scrollHeight,E()}function E(){r.disabled=0===o.children.length}u.addEventListener("click",(function(){if(y)t.send("stop-watching-all"),y=!1,document.querySelectorAll(".stop-button").forEach((function(e){e.style.display="none"}));else{if(0===n.children.length)return void(h&&t.notify("Folder Watch","No folders available to watch."));a.click(),y=!0,document.querySelectorAll(".stop-button").forEach((function(e){e.style.display="block",e.style.width="30px"}))}g()})),document.getElementById("toggleMenu").addEventListener("click",(function(){document.querySelector(".w-64").classList.toggle("hidden")})),document.getElementById("showFolders").addEventListener("click",(function(){l.style.display="block",i.style.display="none"})),s.addEventListener("click",(function(){l.style.display="none",i.style.display="block"})),d.addEventListener("click",(function(){var e=c.value.trim();e&&(t.send("check-folder-exists",e),t.once("folder-exists-result",(function(o,r){if(r&&!Array.from(n.children).some((function(t){return t.textContent===e}))){var l=document.createElement("li");l.textContent=e,n.appendChild(l),c.value="";var i=Array.from(n.children).map((function(e){return e.textContent}));t.send("start-watch",{folders:i}),p(i)}else h&&t.notify("Add Foldeer","Path does not exist or is already in the list.")})))})),document.getElementById("select-folder-button").addEventListener("click",(function(){t.send("select-folder")})),a.addEventListener("click",(function(){var e=Array.from(n.children).map((function(e){return e.firstChild.textContent.trim()}));s.click(),t.send("start-watch",{folders:e})})),t.on("toggle-watch-request",(function(e){u.click()})),t.on("view-logs-request",(function(e){s.click()})),t.on("clear-paths-request",(function(e){f.click()})),t.on("set-is-watching",(function(e,t){y=t,g()})),t.on("notification-toggle",(function(e,t){h=t})),t.on("restore-saved-config",(function(e,t){t.folders;var n=t.isWatchingState,o=t.notifictionState;y=n,h=o,g()})),t.on("selected-folders",(function(e,t){p(t)})),f.addEventListener("click",(function(){t.send("clear-saved-paths")})),t.on("paths-cleared",(function(){h&&t.notify("Cleared Folder","Saved paths cleared successfully."),n.innerHTML="",r.click(),y=!1,g()})),t.on("check-folder-list",(function(e){var o=Array.from(n.children).map((function(e){return e.textContent}));t.send("check-folder-list-result",o.length>0)})),t.on("watch-update",(function(e,t){v("Watch Update",t)})),t.on("watch-error",(function(e,t){v("Watch Error",t,!0)})),t.on("debug-message",(function(e,t){v("Debug",t)})),t.on("notify-message",(function(e,n){var o,r;o=n.title,r=n.message,h&&t.notify(o,r)})),r.addEventListener("click",(function(){o.innerHTML="",E()})),E()})();
//# sourceMappingURL=bundle.js.map